<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <script src="https://cdn.tailwindcss.com"></script>
        <title>Create Account</title>
    </head>
    <body class="bg-[#F6F3E7] min-h-screen flex items-center justify-center p-6 text-[#2B2B2B]">
        <main class="w-full max-w-4xl bg-white rounded-xl shadow-xl p-8">
            <!-- Header -->
            <div class="mb-6 pb-4 border-b border-[#E5E5E5]">
                <h1 class="text-xl font-semibold">Create Account</h1>
                <p class="text-xs text-[#2B2B2B]/70 mt-1">
                    Choose a role and fill in your details.
                </p>
            </div>

            <form id="registerForm" onsubmit="submitReg(event)" class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <!-- LEFT COLUMN -->
                <div class="flex flex-col gap-3">
                    <!-- Role radio -->
                    <fieldset>
                        <legend class="text-sm font-medium mb-2">Register As</legend>
                        <div class="flex gap-4 text-sm">
                            <label class="inline-flex items-center gap-2 cursor-pointer">
                                <input type="radio" name="reg_role" value="adopter" id="reg_adopter" checked onchange="toggleForms()" class="cursor-pointer"/>
                                <span>Adopter</span>
                            </label>
                            <label class="inline-flex items-center gap-2 cursor-pointer">
                                <input type="radio" name="reg_role" value="shelter" id="reg_shelter" onchange="toggleForms()" class="cursor-pointer"/>
                                <span>Shelter</span>
                            </label>
                        </div>
                    </fieldset>

                    <!-- Common fields -->
                    <div>
                        <label for="full_name" class="block text-sm font-medium mb-1">Full Name</label>
                        <input id="full_name" name="full_name" type="text" required
                               class="w-full px-3 py-2 border border-[#E5E5E5] rounded-md focus:outline-none focus:ring-2 focus:ring-[#2F5D50]" placeholder="Full Name"/>
                    </div>

                    <div>
                        <label for="email" class="block text-sm font-medium mb-1">Email</label>
                        <input id="email" name="email" type="email" required
                               class="w-full px-3 py-2 border border-[#E5E5E5] rounded-md focus:outline-none focus:ring-2 focus:ring-[#2F5D50]" placeholder="you@example.com"/>
                    </div>

                    <div>
                        <label for="password" class="block text-sm font-medium mb-1">Password</label>
                        <input id="password" name="password" type="password" required minlength="6"
                               class="w-full px-3 py-2 border border-[#E5E5E5] rounded-md focus:outline-none focus:ring-2 focus:ring-[#2F5D50]" placeholder="Password (min 6 chars)"/>
                    </div>

                    <div>
                        <label for="confirm_password" class="block text-sm font-medium mb-1">Confirm Password</label>
                        <input id="confirm_password" name="confirm_password" type="password" required
                               class="w-full px-3 py-2 border border-[#E5E5E5] rounded-md focus:outline-none focus:ring-2 focus:ring-[#2F5D50]" placeholder="Re-type your password"/>
                    </div>

                    <div>
                        <label for="phone" class="block text-sm font-medium mb-1">Phone Number</label>
                        <input id="phone" name="phone" type="tel"
                               class="w-full px-3 py-2 border border-[#E5E5E5] rounded-md focus:outline-none focus:ring-2 focus:ring-[#2F5D50]" placeholder="+60 12-345 6789"/>
                    </div>
                </div>

                <!-- RIGHT COLUMN -->
                <div class="flex flex-col gap-3">
                    <div class="mb-1">
                        <h2 class="text-sm font-medium mb-2">Additional Details</h2>
                    </div>

                    <!-- ADOPTER BLOCK -->
                    <div id="adopter_fields" class="flex flex-col gap-3">
                        <input id="address" name="address" type="text" required
                               class="w-full px-3 py-2 border border-[#E5E5E5] rounded-md focus:outline-none focus:ring-2 focus:ring-[#2F5D50]" placeholder="Address"/>
                        <input id="occupation" name="occupation" type="text" required
                               class="w-full px-3 py-2 border border-[#E5E5E5] rounded-md focus:outline-none focus:ring-2 focus:ring-[#2F5D50]" placeholder="Occupation"/>
                        <input id="household" name="household" type="text" required
                               class="w-full px-3 py-2 border border-[#E5E5E5] rounded-md focus:outline-none focus:ring-2 focus:ring-[#2F5D50]" placeholder="Household Type"/>
                        <label class="flex items-center gap-2 text-sm cursor-pointer">
                            <input id="has_pets" name="has_pets" type="checkbox" required class="h-4 w-4 cursor-pointer"/>
                            <span>Has other pets?</span>
                        </label>
                        <textarea id="adopter_notes" name="adopter_notes"
                                  class="w-full px-3 py-2 border border-[#E5E5E5] rounded-md focus:outline-none focus:ring-2 focus:ring-[#2F5D50] resize-none overflow-y-auto"
                                  placeholder="Notes (optional)" style="min-height:120px; max-height:150px;"></textarea>
                    </div>

                    <!-- SHELTER BLOCK -->
                    <div id="shelter_fields" class="flex flex-col gap-3 hidden">
                        <input id="shelter_name" name="shelter_name" type="text" required
                               class="w-full px-3 py-2 border border-[#E5E5E5] rounded-md focus:outline-none focus:ring-2 focus:ring-[#2F5D50]" placeholder="Shelter Name"/>
                        <input id="shelter_address" name="shelter_address" type="text" required
                               class="w-full px-3 py-2 border border-[#E5E5E5] rounded-md focus:outline-none focus:ring-2 focus:ring-[#2F5D50]" placeholder="Shelter Address"/>
                        <textarea id="shelter_desc" name="shelter_desc" required rows="3"
                                  class="w-full px-3 py-2 border border-[#E5E5E5] rounded-md focus:outline-none focus:ring-2 focus:ring-[#2F5D50] resize-none overflow-y-auto"
                                  placeholder="Shelter Description" style="min-height:120px; max-height:150px;"></textarea>
                        <input id="website" name="website" type="url"
                               class="w-full px-3 py-2 border border-[#E5E5E5] rounded-md focus:outline-none focus:ring-2 focus:ring-[#2F5D50]" placeholder="Website (optional)"/>
                        <div class="flex gap-2">
                            <div class="flex-1">
                                <label for="hours_from" class="block text-sm font-medium mb-1">Operating From</label>
                                <input id="hours_from" name="hours_from" type="time" required
                                       class="w-full px-3 py-2 border border-[#E5E5E5] rounded-md focus:outline-none focus:ring-2 focus:ring-[#2F5D50]"/>
                            </div>
                            <div class="flex-1">
                                <label for="hours_to" class="block text-sm font-medium mb-1">Operating To</label>
                                <input id="hours_to" name="hours_to" type="time" required
                                       class="w-full px-3 py-2 border border-[#E5E5E5] rounded-md focus:outline-none focus:ring-2 focus:ring-[#2F5D50]"/>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Buttons area -->
                <div class="md:col-span-2 mt-2 flex flex-col gap-3">
                    <button type="submit"
                            class="w-full bg-[#2F5D50] hover:bg-[#24483E] text-white py-2.5 rounded-md font-medium transition-colors">
                        Register
                    </button>
                    <p class="text-center text-sm">
                        Already have an account?
                        <a href="login.html" class="text-[#2F5D50] hover:text-[#24483E] font-semibold">Login</a>
                    </p>
                </div>
            </form>
        </main>

        <script>
            function toggleForms() {
                const role = document.querySelector(
                        'input[name="reg_role"]:checked'
                        ).value;
                document
                        .getElementById("adopter_fields")
                        .classList.toggle("hidden", role !== "adopter");
                document
                        .getElementById("shelter_fields")
                        .classList.toggle("hidden", role !== "shelter");
            }

            document.addEventListener("DOMContentLoaded", () => {
                toggleForms();
            });

            function submitReg(e) {
                e.preventDefault();
                        const pwd = document.getElementById("password")?.value;
                        const cpwd = document.getElementById("confirm_password")?.value;
                if (pwd !== undefined && cpwd !== undefined && pwd !== cpwd) {
                    alert("Password and Confirm Password do not match.");
                    return;
                }
                const role = document.querySelector(
                        'input[name="reg_role"]:checked'
                        ).value;
                if (role === "adopter")
                    alert("Adopter account successfully created!");
                else
                    alert("Shelter registered! Please wait for admin approval.");
            }
        </script>
    </body>
</html>
